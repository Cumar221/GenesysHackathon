{"ast":null,"code":"import _classCallCheck from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/cumaryusuf/Desktop/hackathon/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/cumaryusuf/Desktop/hackathon/src/video.js\";\nimport React, { Component } from 'react';\nimport MediaCapturer from 'react-multimedia-capture';\n\nvar Video =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Video, _React$Component);\n\n  function Video() {\n    var _this;\n\n    _classCallCheck(this, Video);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Video).call(this));\n    _this.state = {\n      granted: false,\n      rejectedReason: '',\n      recording: false,\n      paused: false\n    };\n    _this.handleGranted = _this.handleGranted.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDenied = _this.handleDenied.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStart = _this.handleStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStop = _this.handleStop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePause = _this.handlePause.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleResume = _this.handleResume.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setStreamToVideo = _this.setStreamToVideo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.releaseStreamFromVideo = _this.releaseStreamFromVideo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.downloadVideo = _this.downloadVideo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Video, [{\n    key: \"handleGranted\",\n    value: function handleGranted() {\n      this.setState({\n        granted: true\n      });\n      console.log('Permission Granted!');\n    }\n  }, {\n    key: \"handleDenied\",\n    value: function handleDenied(err) {\n      this.setState({\n        rejectedReason: err.name\n      });\n      console.log('Permission Denied!', err);\n    }\n  }, {\n    key: \"handleStart\",\n    value: function handleStart(stream) {\n      this.setState({\n        recording: true\n      });\n      this.setStreamToVideo(stream);\n      console.log('Recording Started.');\n    }\n  }, {\n    key: \"handleStop\",\n    value: function handleStop(blob) {\n      this.setState({\n        recording: false\n      });\n      this.releaseStreamFromVideo();\n      console.log('Recording Stopped.');\n      this.downloadVideo(blob);\n    }\n  }, {\n    key: \"handlePause\",\n    value: function handlePause() {\n      this.releaseStreamFromVideo();\n      this.setState({\n        paused: true\n      });\n    }\n  }, {\n    key: \"handleResume\",\n    value: function handleResume(stream) {\n      this.setStreamToVideo(stream);\n      this.setState({\n        paused: false\n      });\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(err) {\n      console.log(err);\n    }\n  }, {\n    key: \"setStreamToVideo\",\n    value: function setStreamToVideo(stream) {\n      var video = this.refs.app.querySelector('video');\n\n      if (window.URL) {\n        video.src = window.URL.createObjectURL(stream);\n      } else {\n        video.src = stream;\n      }\n    }\n  }, {\n    key: \"releaseStreamFromVideo\",\n    value: function releaseStreamFromVideo() {\n      this.refs.app.querySelector('video').src = '';\n    }\n  }, {\n    key: \"downloadVideo\",\n    value: function downloadVideo(blob) {\n      var url = URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.target = '_blank';\n      document.body.appendChild(a);\n      a.click();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var granted = this.state.granted;\n      var rejectedReason = this.state.rejectedReason;\n      var recording = this.state.recording;\n      var paused = this.state.paused;\n      return React.createElement(\"div\", {\n        ref: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Video Recorder\"), React.createElement(MediaCapturer, {\n        constraints: {\n          audio: true,\n          video: true\n        },\n        timeSlice: 10,\n        onGranted: this.handleGranted,\n        onDenied: this.handleDenied,\n        onStart: this.handleStart,\n        onStop: this.handleStop,\n        onPause: this.handlePause,\n        onResume: this.handleResume,\n        onError: this.handleError,\n        render: function render(_ref) {\n          var start = _ref.start,\n              stop = _ref.stop,\n              pause = _ref.pause,\n              resume = _ref.resume;\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, \"Granted: \", granted.toString()), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, \"Rejected Reason: \", rejectedReason), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \"Recording: \", recording.toString()), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, \"Paused: \", paused.toString()), React.createElement(\"button\", {\n            onClick: start,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, \"Start\"), React.createElement(\"button\", {\n            onClick: stop,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, \"Stop\"), React.createElement(\"button\", {\n            onClick: pause,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, \"Pause\"), React.createElement(\"button\", {\n            onClick: resume,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, \"Resume\"), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, \"Streaming test\"), React.createElement(\"video\", {\n            autoPlay: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Video;\n}(React.Component);\n\nexport default Video;","map":{"version":3,"sources":["/Users/cumaryusuf/Desktop/hackathon/src/video.js"],"names":["React","Component","MediaCapturer","Video","state","granted","rejectedReason","recording","paused","handleGranted","bind","handleDenied","handleStart","handleStop","handlePause","handleResume","setStreamToVideo","releaseStreamFromVideo","downloadVideo","setState","console","log","err","name","stream","blob","video","refs","app","querySelector","window","URL","src","createObjectURL","url","a","document","createElement","style","display","href","target","body","appendChild","click","audio","handleError","start","stop","pause","resume","toString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MediaCapturer from 'react-multimedia-capture';\n\nclass Video extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            granted: false,\n            rejectedReason: '',\n            recording: false,\n            paused: false\n        };\n\n        this.handleGranted = this.handleGranted.bind(this);\n        this.handleDenied = this.handleDenied.bind(this);\n        this.handleStart = this.handleStart.bind(this);\n        this.handleStop = this.handleStop.bind(this);\n        this.handlePause = this.handlePause.bind(this);\n        this.handleResume = this.handleResume.bind(this);\n        this.setStreamToVideo = this.setStreamToVideo.bind(this);\n        this.releaseStreamFromVideo = this.releaseStreamFromVideo.bind(this);\n        this.downloadVideo = this.downloadVideo.bind(this);\n    }\n    handleGranted() {\n        this.setState({ granted: true });\n        console.log('Permission Granted!');\n    }\n    handleDenied(err) {\n        this.setState({ rejectedReason: err.name });\n        console.log('Permission Denied!', err);\n    }\n    handleStart(stream) {\n        this.setState({\n            recording: true\n        });\n\n        this.setStreamToVideo(stream);\n        console.log('Recording Started.');\n    }\n    handleStop(blob) {\n        this.setState({\n            recording: false\n        });\n\n        this.releaseStreamFromVideo();\n\n        console.log('Recording Stopped.');\n        this.downloadVideo(blob);\n    }\n    handlePause() {\n        this.releaseStreamFromVideo();\n\n        this.setState({\n            paused: true\n        });\n    }\n    handleResume(stream) {\n        this.setStreamToVideo(stream);\n\n        this.setState({\n            paused: false\n        });\n    }\n    handleError(err) {\n        console.log(err);\n    }\n    setStreamToVideo(stream) {\n        let video = this.refs.app.querySelector('video');\n\n        if(window.URL) {\n            video.src = window.URL.createObjectURL(stream);\n        }\n        else {\n            video.src = stream;\n        }\n    }\n    releaseStreamFromVideo() {\n        this.refs.app.querySelector('video').src = '';\n    }\n    downloadVideo(blob) {\n        let url = URL.createObjectURL(blob);\n        let a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.target = '_blank';\n        document.body.appendChild(a);\n\n        a.click();\n    }\n    render() {\n        const granted = this.state.granted;\n        const rejectedReason = this.state.rejectedReason;\n        const recording = this.state.recording;\n        const paused = this.state.paused;\n\n        return (\n            <div ref=\"app\">\n                <h3>Video Recorder</h3>\n                <MediaCapturer\n                    constraints={{ audio: true, video: true }}\n                    timeSlice={10}\n                    onGranted={this.handleGranted}\n                    onDenied={this.handleDenied}\n                    onStart={this.handleStart}\n                    onStop={this.handleStop}\n                    onPause={this.handlePause}\n                    onResume={this.handleResume}\n                    onError={this.handleError}\n                    render={({ start, stop, pause, resume }) =>\n                        <div>\n                            <p>Granted: {granted.toString()}</p>\n                            <p>Rejected Reason: {rejectedReason}</p>\n                            <p>Recording: {recording.toString()}</p>\n                            <p>Paused: {paused.toString()}</p>\n                            <button onClick={start}>Start</button>\n                            <button onClick={stop}>Stop</button>\n                            <button onClick={pause}>Pause</button>\n                            <button onClick={resume}>Resume</button>\n\n                            <p>Streaming test</p>\n                            <video autoPlay></video>\n                        </div>\n                    } />\n            </div>\n        );\n    }\n}\n\nexport default Video;\n"]},"metadata":{},"sourceType":"module"}